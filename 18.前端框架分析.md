# 前端框架分析

### What ?

什么是框架？

* 框-指约束

* 架-指支撑，各个部分的结构和它们之间的依赖关系。

* 简单来说，就是按照框架的要求去实现业务。与业务无关的内容，由框架来完成，从而提高开发能力和效率。

* 随着发展，框架不再那么简单，由此衍生的框架的插件和工具，组成了**框架的生态系统**。比如我们说的 React生态系统、 Vue生态系统。


### Why? 

为什么要使用框架？

随着业务的复杂，原生开发已经搞不定了。


### How?

怎么使用框架？重点学习


# 传统的原生开发的不足，以及前端框架要解决的问题？

### 代码层面问题

JS 本身是一个很宽泛的语言，对于写法的约束并不是很严格。

1. 代码缺少规划，代码混乱。      ->      **结构化开发**

    当代码量积累到一定程度时，就会存在结构不清晰，代码耦合严重的问题。

    这时候就可以用到框架，因为**框架通常都是结构化**的。都在一定程度上对代码根据不同的功能做了分类和规划。所以使用了框架之后，代码的混乱程度肯定会降低。但是框架规定的只是一个结构，如果开发人员没有良好的开发习惯，内部业务逻辑部分，该乱还是乱。

2.  缺少限制，容易冲突。        ->      **独立文件，独立作用域**

    当代码量爆发以后，变量冲突是一个很严重的问题。如果还像jQuery时代，以堆叠的方式写代码，很容易在起名字的时候就用了别人的变量。或者不小心改了别人的代码。隔三差五就会出莫名奇妙的问题。而在框架中，尤其在使用了webpack, gulp等工程化工具之后， js 终于可以像后端语言一样，分文件写代码了。这样单文件的功能和代码长度都得到了简化，改错的位置也就越来越少了。

    而且在单文件中，作用域也是独立的。这样只要单文件中变量不冲突，在作用域中也就不会冲突。

3.  缺少支撑，能力要求高。      ->      提供支持，**只关注业务**

    在原生开发中，要负责架构，工具和业务，对开发人员要求很高。

    但使用了框架之后，像架构，工具这些，框架都已经帮我们做了集成。


### 效率问题

1.  关注所有流程        ->       关注业务

    可以省去实现流程处理和实现工具的时间。比如在框架中，要实现路由，可以拿来直接用。想实现数据存储，也是可以直接拿来用。把大部分精力都投入到业务开发上。

2.  团队效率低          ->      **并行开发**


3.  测试效率低          ->      **模块化测试**，自动化测试
    
    框架的使用对测试效率的提升也是很明显的。


### 多面应用的问题
    
    在使用框架前，都是使用浏览器自带的路由，这种路由在很多页面之间进行跳转，所以叫多页应用。

    当单页应用出现以后，html页面只有一个，在同一个页面里，用 js 来实现路由的功能。这种就是单页应用。

1.  路由体验问题        ->      使用单页路由

    在传统的多页路由上，我们每跳转一个新的页面，都要先加载html，然后再把html里面的每个资源文件都加载一次。最后再把它们都渲染出来。

    在这个资源加载过程中，占用最多的通常就是网络请求。所以多页应用如果重新加载所有资源的话，耗时就比较长，导致页面切换不流畅。造成体验不顺畅的问题。

    而在单页应用中，切换页面时，一般需要请求的就是数据，实现上就是一个json接口，而html, js, css这些资源通常都是提前加载好的。这样的话，页面切换和数据显示就会很快。省去了这么多的网络请求，页面的切换和数据显示会变的很快，可以提高用户的体验。


2.  无页面切换效果      ->     **可以添加过场动画**    

    在多页应用中，要切换页面时，前一个页面会立即销毁，所以如果想实现一些炫酷的过程动画，那就无能无力。

    但在单页应用中，其实页面并没有销毁，切换实际上对应的是DOM元素的切换，所以可以实现一些过场动画。


3.  浪费服务器资源      ->      **减少服务器请求**


# 框架开发的不足

1. 兼容性问题， SEO不友好

2. 有场景要求，开发自由度降低

    框架的设计是有针对性的，不可能出一个全能的框架。任何框架都有自己的定位和使用场景。

3. 黑盒开发，框架本身有出错的风险

4. 有学习成本

    在使用框架时，就要学习它的**设计思路以及API用法**。


# 三大框架的对比

## 基本信息

### Angular

1. 背景： 2009 年发布，**Google**

2. 主要版本： 1.x, 2.x， 4.x,  5.x（beta）

3. 基于html的大而全的MVC框架


### React

1. 背景： 2013年5月开源， **Facebook**

2. 最新版本： 16.x

3. 基于 js 的视图层框架

    **基于js**:  React 框架颠覆了传统的web机制，它可以把html, css 都转换成 js 的一部分，把 js 作为了整个应用的入口，提升了 js 的地位。

    **视图层框架**： 只关心了页面的显示，而不像 Angular那样，数据在页面中一起处理。


### Vue

1. 背景： 2014年2月开源，尤雨溪，现加入阿里的 Weex 团队。**阿里巴巴**

2. 主要版本：0.1x, 1.x, 2.x

3. 基于 html 的视图层框架


## 组织方式

### Angular

MVC

### React

模块化

### Vue

模块化


## 数据绑定

### Angular

双向绑定

### React

单向绑定

### Vue

双向绑定

## 模板能力

### Angular

强大

### React

自由

### Vue

简洁

## 自由度

### Angular

较小（因为angular本身是一个大而全的框架，对模块，模板，路由等都有很多要求，所以自由度最小）

### React

大

### Vue

较大

## 路由

### Angular

静态路由（自带的）

### React

动态路由（借助 react-router）

### Vue

动态路由（借助 vue-router）


## 其他维度

### Angular

背景： Google

文档： 英文

上手难度： 较高

App 方案： Ionic

### React

背景： Facebook

文档： 英文

上手难度： 较高  （因为jsx语法颠覆了对传统前端的认识，这种思维转换有些难度）

App 方案： RN

### Vue

背景： 阿里巴巴

文档： 多语言

上手难度： 一般（本身就是经典的web技术）

App 方案： Weex


## 适用场景

### Angular

后端开发人员构建CURD类型应用

### React

前端开发人员构建复杂的Web应用

### Vue

前端开发人员快速构建Web应用

