# 一、内存中的栈和堆

1. ## 内存中的栈区与堆区比较 

   | 栈区 (stack memory)                              | 堆区(heap memory)                                            |
   | ------------------------------------------------ | ------------------------------------------------------------ |
   | stack memory内存空间由**操作系统自动分配和释放** | heap memory 内存空间**手动申请和释放**的， heap memory内存常用  **new 关键字来分配** |
   | stack memory内存空间有限                         | heap memory的空间是很大的自由区，几乎没有空间限制。          |

2. ##  计算机内存的大致划分

   一般说到内存，指的是计算机的**随机存储器（RAM）**,程序都是在这里面运行。

# 二、数据结构中的栈和堆

1. ##  栈

   是一种**连续存储**的数据结构，具有**先进后出**的性质。

   通常的操作有入栈（压栈），出栈和栈顶元素。想要读取栈中的某个元素，就是将其之前的所有元素出栈才能完成。

   在Windows下,栈是向低地址扩展的数据结构，是一块连续的内存的区域。

   

2. ## 堆

   是一种**非连续的树形存储**数据结构，每个节点有一个值，整棵树是经过排序的。特点是根结点的值最小（或最大），且根结点的两个子树也是一个堆。常用来实现优先队列，存取随意。

   堆是向高地址扩展的数据结构，是不连续的内存区域。

# 三、栈内存与栈溢出

由程序自动向操作系统申请分配和回收。速度快，使用方便，但程序员无法控制。若分配失败，则提示**栈溢出**错误。

**栈区向地址减小的方向增长**。

# 四、堆内存与内存泄露

由程序员向操作系统申请一块内存，当系统收到程序的申请时，会遍历一个记录空闲内存地址的链表，寻找第一个空间大于所申请空间的堆结点，然后将该结点从空闲结点链表中删除，并将该结点的空间分配给程序。

- 分配的速度较慢，地址不连续，容易碎片化
- 由程序员申请，同时也必须由程序员负责销毁，否则导致**内存泄露**。